# ğŸ“š GUIDES COMPLETS - Utilisateur, Admin, DÃ©veloppeur

Tous les guides d'utilisation consolidÃ©s.

---

## ğŸ‘¤ GUIDE UTILISATEUR

### ğŸš€ DÃ©marrage Rapide

**3 Ã©tapes pour planifier votre jardin** :

1. **SÃ©lectionner arbres** : Comparer â†’ Cocher 2-3 arbres
2. **Ouvrir planificateur** : Bouton "Planifier"  
3. **CrÃ©er le plan** : Drag & drop sur le terrain

### ğŸ“ Utilisation du Planificateur

#### Interface

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [2D] [3D]  ğŸ“ Planificateur      [â“][âœ•]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Panneau  â”‚                              â”‚
â”‚ LatÃ©ral  â”‚      Canvas 2D/3D            â”‚
â”‚          â”‚                              â”‚
â”‚ [Outils] â”‚                              â”‚
â”‚ [Stats]  â”‚                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚     Timeline (0-20 ans)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Onglet "Outils"

**Structures** :
- ğŸ  Maison (10Ã—10m, H:7m, Fondations:1.2m)
- ğŸ¡ Terrasse (4Ã—3m)
- ğŸŸ© PavÃ©s (5Ã—5m)

**RÃ©seaux** :
- ğŸš° Canalisation (prof. 0.6m)
- ğŸ’§ Citerne/Fosse (2Ã—3m, prof. 2.5m)
- ğŸš§ ClÃ´ture

**VÃ©gÃ©tation** :
- ğŸŒ³ Arbre existant

**Affichage** :
- ğŸ‘ï¸ Zones contraintes (ON/OFF)
- â˜€ï¸ Ombre maison (ON/OFF)
- ğŸ§² Snap magnÃ©tique (ON/OFF)

**Actions** :
- ğŸ”’ Verrouiller sÃ©lection
- ğŸ—‘ï¸ Supprimer sÃ©lection
- âš ï¸ Effacer tout

**Image** :
- ğŸ“· Charger plan fond
- OpacitÃ© ajustable
- ğŸ—‘ï¸ Retirer image

#### Onglet "Stats"

Statistiques temps rÃ©el :
- ğŸŒ³ Nombre arbres
- ğŸ“ Surfaces (plantÃ©e/minÃ©rale/libre)
- ğŸ¦‹ BiodiversitÃ© (score 0-100)
- ğŸ’§ Arrosage (L/semaine)
- â±ï¸ Entretien (h/mois)
- âš–ï¸ ConformitÃ© (%)
- ğŸŒ Composition sol (Ã©ditable)

#### Timeline (Bas)

- **Slider 0-20 ans** : Voir croissance
- **Saison** (si ombre active) : Hiver/Printemps/Ã‰tÃ©/Automne
- Affiche la taille actuelle des arbres

#### Validation Temps RÃ©el

**Couleurs arbres** :
- ğŸŸ¢ **Vert** : Conforme (tout OK)
- ğŸŸ  **Orange** : Avertissement (attention)
- ğŸ”´ **Rouge** : ProblÃ¨me (non-conforme)

**Clic sur arbre** â†’ Panneau validation :
- ğŸ“Š Informations (taille, tronc, Ã¢ge, racines)
- âœ…/âš ï¸/âŒ Messages validation
- ğŸ’¡ Conseils si problÃ¨me

### ğŸ® Vue 3D

**Activer** : Cliquer bouton "3D" en haut

**4 Modes de Vue** :
- ğŸ® **Perspective** : Vue libre 3D
- ğŸ” **Dessus** : Plan de haut
- ğŸ‘‰ **CÃ´tÃ©** : Voir hauteurs
- ğŸ“ **Coupe** : Voir profondeurs

**Ã‰dition Interactive** :
- Clic sur objet â†’ Panneau Ã©dition Ã  droite
- Modifier hauteur maison, profondeur fondations, etc.
- Toggle "Sous-terre" : Voir/cacher racines, fondations, canalisations

**Validation 3D** :
- Couleurs : Vert (OK), Orange (attention), Rouge (conflit)
- Voir les racines qui touchent les fondations !

### ğŸ–±ï¸ Navigation Canvas (ğŸ†• v2.1.1)

**Zoom** :
- ğŸ–±ï¸ **Molette** : Zoomer/DÃ©zoomer (50%-300%)
- ğŸ” **Bouton "RÃ©initialiser vue"** : Retour Ã  100%

**DÃ©placement (Pan)** :
- `Alt` + Clic gauche : DÃ©placer la carte
- Clic droit : DÃ©placer la carte
- Clic molette : DÃ©placer la carte

### âŒ¨ï¸ Raccourcis Clavier

| Touche | Action |
|--------|--------|
| `Suppr` / `Backspace` | Supprimer sÃ©lection |
| `Ctrl+D` | Dupliquer |
| `FlÃ¨ches` | DÃ©placer 10cm |
| `Shift+FlÃ¨ches` | DÃ©placer 1m |
| `Ã‰chap` | DÃ©sÃ©lectionner |
| **`Molette`** ğŸ†• | **Zoom in/out** |
| **`Alt+Clic`** ğŸ†• | **DÃ©placer carte** |
| **`Clic droit`** ğŸ†• | **DÃ©placer carte** |

### ğŸ’¾ Sauvegarde

- **Automatique** : Toutes les modifications sauvegardÃ©es dans le navigateur
- **Export** : Plan sauvegardÃ© dans localStorage
- **Persistance** : Plan rechargÃ© automatiquement

---

## ğŸ‘¨â€ğŸ’¼ GUIDE ADMIN

### ğŸš€ DÃ©marrage

```bash
cd admin
npm install
npm start
# Ouvrir http://localhost:3001
```

### ğŸ“¸ Gestion Images

#### Ajouter une Image

1. **Glisser-dÃ©poser** image dans zone
2. **SÃ©lectionner** :
   - EspÃ¨ce (liste dÃ©roulante)
   - Type (vue_generale, bourgeons, fleurs, etc.)
3. **Cliquer** ğŸš€ Ajouter
4. âœ… Image uploadÃ©e avec numÃ©ro automatique

#### Supprimer des Images

1. **Filtrer** par espÃ¨ce/type
2. **Cocher** images Ã  supprimer
3. **Cliquer** ğŸ—‘ï¸ dans header
4. **Confirmer** suppression

#### Renommer une Image

1. **Modifier** select EspÃ¨ce ou Type
2. **Cliquer** ğŸ’¾ (devient orange)
3. âœ… Image renommÃ©e et dÃ©placÃ©e

#### Changer NumÃ©ro

1. **Input numÃ©ro** â†’ Taper nouveau
2. **Confirmer** permutation
3. âœ… Swap automatique (#03 â†” #01)

### ğŸ”„ Synchronisation

- **Automatique** : `images.json` regÃ©nÃ©rÃ© aprÃ¨s chaque action
- **Client** : RafraÃ®chir pour voir nouvelles images

### ğŸ” SÃ©curitÃ©

âš ï¸ **Interface locale uniquement** (pas d'authentification)  
âš ï¸ **Ne pas exposer sur Internet** sans sÃ©curisation

---

## ğŸ‘¨â€ğŸ’» GUIDE DÃ‰VELOPPEUR

### ğŸŒ³ Ajouter un Nouvel Arbre

**Fichier** : `client/src/data/arbustesData.js`

#### Ã‰tape 1 : Copier un ModÃ¨le

| Pour ajouter... | Copier... |
|----------------|-----------|
| Cerisier | `prunus-kanzan` |
| Arbre mÃ©diterranÃ©en | `arbre-judee` |
| Grand arbre | `erable-rouge` |
| Arbuste haie | `troene` |
| Arbuste parfumÃ© | `osmanthe` |
| Arbuste toxique | `fusain` |
| Arbuste fruitier | `noisetier` |

#### Ã‰tape 2 : Remplir TOUTES les Sections

**âœ… Obligatoires** :
```javascript
{
  id: 'nom-arbre',              // URL-friendly
  name: 'Nom Commun',
  nomScientifique: 'Genus species',
  famille: 'Famille',
  type: 'arbre' | 'arbuste',
  tailleMaturite: 'X-Y m',
  envergure: 'X-Y m',
  floraison: { periode, description, couleur },
  fructification: { ... },
  feuillage: { ... },
  plantation: { ... },
  sol: { type, ph, humidite },
  exposition: '...',
  arrosage: '...',
  rusticite: 'Zone X',
  croissance: 'Rapide/Moyenne/Lente (X cm/an)',
  taille: { ... },
  calendrierAnnuel: [...],
  maladies: [...],
  biodiversite: { ... },
  utilisations: [...],
  anecdote: '...',
  
  // RÃ‰GLEMENTATION (CRITIQUE pour validation)
  reglementation: {
    systemeRacinaire: {
      type: 'pivotant' | 'fasciculÃ©' | 'traÃ§ant',
      profondeur: 'X-Y m',
      etalement: 'X-Y m',
      agressivite: 'Faible' | 'ModÃ©rÃ©e' | 'Ã‰levÃ©e'
    },
    distancesLegales: {
      voisinage: {
        distance: 'Xm',
        regle: 'Code Civil Art. 671',
        sanction: '...'
      },
      infrastructures: {
        fondations: 'Xm',
        canalisations: 'Xm',
        fossesSeptiques: 'Xm',
        terrasse: 'Xm',
        piscine: 'Xm'
      },
      entreArbres: {
        distance: 'Xm',
        raison: '...'
      }
    },
    risques: [...]
  }
}
```

#### Ã‰tape 3 : Ajouter les Images

**Nommage** : `espece_type_numero.jpg`

Exemples :
- `prunus-kanzan_vue_generale_01.jpg`
- `prunus-kanzan_fleurs_01.jpg`
- `prunus-kanzan_fruits_01.jpg`

**Via Admin** :
1. `npm run admin`
2. Upload images
3. SÃ©lectionner espÃ¨ce/type
4. `images.json` mis Ã  jour automatiquement

### ğŸš€ DÃ©ploiement

**Build Production** :
```bash
cd client
npm run build
# â†’ Fichiers dans client/dist/
```

**DÃ©ployer sur Render** :
1. Push code sur GitHub
2. Render auto-dÃ©ploie depuis `main`
3. Build command : `cd client && npm install && npm run build`
4. Publish directory : `client/dist`

**Variables d'environnement** : Aucune requise

---

## ğŸ“ CONTACT

**Mairie de Bessancourt** : 01 30 40 44 47

---

**Version** : 2.1.0  
**DerniÃ¨re mise Ã  jour** : 19 octobre 2025

