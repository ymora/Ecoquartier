/**
 * ========================================
 * NEO GARDEN - Design Naturel Sombre & Sophistiqué
 * Palette inspirée de la nature (forêt, végétation)
 * ========================================
 */

/* ==================== VARIABLES CSS ==================== */
:root {
  /* === Palette Nature Sombre === */
  --neo-forest-dark: #0d1b0d;       /* Vert forêt très sombre */
  --neo-forest-medium: #162816;      /* Vert forêt moyen */
  --neo-forest-light: #1f3a1f;      /* Vert forêt clair */
  --neo-moss: #2d4a2d;               /* Mousse */
  --neo-leaf: #10b981;               /* Feuille verte */
  --neo-trunk: #3a2a1a;              /* Tronc brun */
  
  /* Accents Nature */
  --neo-sky: #4facfe;                /* Ciel bleu */
  --neo-sun: #f59e0b;                /* Soleil orange */
  --neo-flower: #ec4899;             /* Fleur rose */
  --neo-autumn: #f97316;             /* Automne orange */
  
  /* Texte */
  --neo-text-primary: #f0fdf4;       /* Blanc légèrement vert */
  --neo-text-secondary: #d1fae5;     /* Vert très clair */
  --neo-text-tertiary: #86efac;      /* Vert clair */
  --neo-text-disabled: #4ade80;      /* Vert moyen */
  
  /* Glassmorphism Nature */
  --neo-glass-bg: rgba(29, 58, 29, 0.7);
  --neo-glass-border: rgba(16, 185, 129, 0.15);
  --neo-glass-hover: rgba(45, 74, 45, 0.8);
  
  /* Ombres Douces */
  --neo-shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.2);
  --neo-shadow-md: 0 4px 16px rgba(0, 0, 0, 0.25);
  --neo-shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.3);
  --neo-shadow-xl: 0 12px 48px rgba(0, 0, 0, 0.35);
  
  /* Dimensions */
  --neo-header-height: 72px;
  --neo-sidebar-width: 320px;
  --neo-sidebar-collapsed: 64px;
  --neo-timeline-height: 140px;
  
  /* Espacements */
  --neo-spacing-xs: 4px;
  --neo-spacing-sm: 8px;
  --neo-spacing-md: 16px;
  --neo-spacing-lg: 24px;
  --neo-spacing-xl: 32px;
  
  /* Transitions */
  --neo-transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --neo-transition-normal: 200ms cubic-bezier(0.4, 0, 0.2, 1);
  --neo-transition-slow: 300ms cubic-bezier(0.4, 0, 0.2, 1);
  
  /* Blur */
  --neo-blur-light: blur(10px);
  --neo-blur-medium: blur(20px);
  --neo-blur-heavy: blur(30px);
}

/* ==================== THÈME CLAIR (MODE JOUR) ==================== */
body.neo-light {
  /* Palette jour inspirée nature */
  --neo-forest-dark: #f0fdf4;        /* Vert très clair */
  --neo-forest-medium: #dcfce7;      /* Vert clair */
  --neo-forest-light: #bbf7d0;       /* Vert pastel */
  --neo-moss: #86efac;               /* Vert moyen */
  --neo-leaf: #059669;               /* Vert foncé */
  
  /* Texte inversé */
  --neo-text-primary: #064e3b;       /* Vert très foncé */
  --neo-text-secondary: #065f46;     /* Vert foncé */
  --neo-text-tertiary: #047857;      /* Vert */
  --neo-text-disabled: #6ee7b7;      /* Vert clair */
  
  /* Glass clair */
  --neo-glass-bg: rgba(255, 255, 255, 0.8);
  --neo-glass-border: rgba(5, 150, 105, 0.2);
  --neo-glass-hover: rgba(220, 252, 231, 0.9);
  
  /* Ombres douces */
  --neo-shadow-sm: 0 2px 8px rgba(6, 78, 59, 0.1);
  --neo-shadow-md: 0 4px 16px rgba(6, 78, 59, 0.12);
  --neo-shadow-lg: 0 8px 32px rgba(6, 78, 59, 0.15);
}

/* ==================== BASE ==================== */
body.neo-theme {
  background: var(--neo-forest-dark);
  color: var(--neo-text-primary);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
  margin: 0;
  padding: 0;
  overflow: hidden;
  transition: background 0.3s ease, color 0.3s ease;
}

* {
  box-sizing: border-box;
}

/* ==================== APP CONTAINER ==================== */
.neo-app {
  display: flex;
  flex-direction: column;
  height: 100vh;
  width: 100vw;
  background: var(--neo-forest-dark);
  overflow: hidden;
}

/* ==================== HEADER ==================== */
.neo-header {
  height: var(--neo-header-height);
  background: var(--neo-forest-medium);
  border-bottom: 1px solid var(--neo-glass-border);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 var(--neo-spacing-lg);
  z-index: 100;
  box-shadow: var(--neo-shadow-sm);
  flex-shrink: 0;
}

/* ==================== MAIN LAYOUT ==================== */
.neo-main {
  display: flex;
  flex: 1;
  overflow: hidden;
  position: relative;
}

/* ==================== SIDEBAR ==================== */
.neo-sidebar {
  width: var(--neo-sidebar-width);
  background: var(--neo-glass-bg);
  backdrop-filter: var(--neo-blur-medium);
  -webkit-backdrop-filter: var(--neo-blur-medium);
  border-right: 1px solid var(--neo-glass-border);
  display: flex;
  flex-direction: column;
  transition: width var(--neo-transition-normal);
  z-index: 50;
  box-shadow: 4px 0 24px rgba(0, 0, 0, 0.2);
  position: relative;
  flex-shrink: 0;
}

.neo-sidebar.collapsed {
  width: var(--neo-sidebar-collapsed);
}

/* ==================== CANVAS ==================== */
.neo-canvas {
  flex: 1;
  background: var(--neo-forest-dark);
  background-image: 
    radial-gradient(circle at 30% 30%, rgba(16, 185, 129, 0.03) 0%, transparent 50%),
    radial-gradient(circle at 70% 70%, rgba(74, 172, 254, 0.02) 0%, transparent 50%);
  position: relative;
  overflow: auto;
}

.neo-canvas.full-width {
  width: 100%;
}

/* ==================== APPLIQUER THÈME À TOUS LES COMPOSANTS ==================== */

/* Comparateur */
body.neo-theme .comparateur {
  background: transparent !important;
  color: var(--neo-text-primary) !important;
}

body.neo-theme .comparateur-selector {
  background: var(--neo-glass-bg) !important;
  backdrop-filter: var(--neo-blur-medium) !important;
  border-right-color: var(--neo-glass-border) !important;
}

body.neo-theme .selector-item {
  background: rgba(255, 255, 255, 0.05) !important;
  border-color: var(--neo-glass-border) !important;
  color: var(--neo-text-secondary) !important;
}

body.neo-theme .selector-item:hover {
  background: var(--neo-moss) !important;
  border-color: var(--neo-leaf) !important;
  color: var(--neo-text-primary) !important;
}

body.neo-theme .selector-item.selected {
  background: var(--neo-leaf) !important;
  border-color: var(--neo-leaf) !important;
  color: white !important;
}

body.neo-theme .comparison-table {
  background: var(--neo-forest-medium) !important;
  border-color: var(--neo-glass-border) !important;
  color: var(--neo-text-primary) !important;
}

body.neo-theme .comparison-header-cell {
  background: var(--neo-forest-light) !important;
  border-bottom-color: var(--neo-leaf) !important;
  color: var(--neo-text-primary) !important;
}

body.neo-theme .comparison-cell {
  border-bottom-color: var(--neo-glass-border) !important;
  color: var(--neo-text-secondary) !important;
  background: transparent !important;
}

body.neo-theme .comparison-row:hover {
  background: rgba(16, 185, 129, 0.05) !important;
}

body.neo-theme .comparison-label-cell {
  background: var(--neo-forest-medium) !important;
  color: var(--neo-text-primary) !important;
}

/* ArbusteDetail */
body.neo-theme .arbuste-detail {
  background: transparent !important;
  color: var(--neo-text-primary) !important;
}

body.neo-theme .arbuste-header {
  background: var(--neo-forest-medium) !important;
  border-bottom-color: var(--neo-glass-border) !important;
  backdrop-filter: var(--neo-blur-medium) !important;
}

body.neo-theme .arbuste-header h1 {
  color: var(--neo-leaf) !important;
}

body.neo-theme .scientific-name,
body.neo-theme .family {
  color: var(--neo-text-secondary) !important;
}

/* Tous les boutons */
body.neo-theme button,
body.neo-theme .btn {
  background: rgba(255, 255, 255, 0.05) !important;
  border-color: var(--neo-glass-border) !important;
  color: var(--neo-text-secondary) !important;
}

body.neo-theme button:hover,
body.neo-theme .btn:hover {
  background: var(--neo-moss) !important;
  border-color: var(--neo-leaf) !important;
  color: var(--neo-text-primary) !important;
}

body.neo-theme .btn-primary,
body.neo-theme button.active {
  background: var(--neo-leaf) !important;
  border-color: var(--neo-leaf) !important;
  color: white !important;
}

/* Tous les inputs, selects, textareas */
body.neo-theme input,
body.neo-theme select,
body.neo-theme textarea {
  background: rgba(255, 255, 255, 0.05) !important;
  border: 1px solid var(--neo-glass-border) !important;
  color: var(--neo-text-primary) !important;
}

body.neo-theme input::placeholder,
body.neo-theme textarea::placeholder {
  color: var(--neo-text-disabled) !important;
}

body.neo-theme input:focus,
body.neo-theme select:focus,
body.neo-theme textarea:focus {
  border-color: var(--neo-leaf) !important;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.2) !important;
  outline: none !important;
}

/* Tabs */
body.neo-theme .tab,
body.neo-theme .tabs button {
  background: transparent !important;
  border-bottom-color: transparent !important;
  color: var(--neo-text-tertiary) !important;
}

body.neo-theme .tab:hover {
  background: rgba(16, 185, 129, 0.1) !important;
  color: var(--neo-text-primary) !important;
}

body.neo-theme .tab.active {
  color: var(--neo-leaf) !important;
  border-bottom-color: var(--neo-leaf) !important;
}

/* Sections et cartes */
body.neo-theme .section,
body.neo-theme .card {
  background: var(--neo-forest-medium) !important;
  border-color: var(--neo-glass-border) !important;
  color: var(--neo-text-primary) !important;
}

/* Info boxes */
body.neo-theme .info-box-success {
  background: rgba(16, 185, 129, 0.15) !important;
  border-color: var(--neo-leaf) !important;
  color: var(--neo-text-primary) !important;
}

body.neo-theme .info-box-warning {
  background: rgba(245, 158, 11, 0.15) !important;
  border-color: var(--neo-sun) !important;
  color: var(--neo-text-primary) !important;
}

body.neo-theme .info-box-error {
  background: rgba(239, 68, 68, 0.15) !important;
  border-color: #ef4444 !important;
  color: var(--neo-text-primary) !important;
}

/* Images */
body.neo-theme img {
  border-radius: 8px;
}

/* Scrollbar Nature */
body.neo-theme ::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

body.neo-theme ::-webkit-scrollbar-track {
  background: var(--neo-forest-medium);
}

body.neo-theme ::-webkit-scrollbar-thumb {
  background: var(--neo-moss);
  border-radius: 4px;
}

body.neo-theme ::-webkit-scrollbar-thumb:hover {
  background: var(--neo-leaf);
}

/* ==================== RESPONSIVE ==================== */
@media (max-width: 1024px) {
  .neo-sidebar:not(.collapsed) {
    width: 280px;
  }
}

@media (max-width: 768px) {
  .neo-sidebar {
    position: fixed;
    left: 0;
    top: var(--neo-header-height);
    bottom: 0;
    transform: translateX(-100%);
    z-index: 60;
  }
  
  .neo-sidebar:not(.collapsed) {
    transform: translateX(0);
  }
}

/* ==================== ANIMATIONS ==================== */
@keyframes neoFadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.neo-app {
  animation: neoFadeIn 0.3s ease;
}

/* ==================== MODE CLAIR (OVERRIDE) ==================== */
body.neo-light {
  background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%) !important;
  color: #064e3b !important;
}

body.neo-light .neo-header,
body.neo-light .neo-canvas,
body.neo-light .neo-sidebar {
  background: rgba(255, 255, 255, 0.9) !important;
  color: #064e3b !important;
}

body.neo-light button,
body.neo-light .btn,
body.neo-light input,
body.neo-light select {
  background: white !important;
  color: #064e3b !important;
  border-color: #bbf7d0 !important;
}

body.neo-light .comparison-table,
body.neo-light .arbuste-detail,
body.neo-light .comparateur {
  background: white !important;
  color: #064e3b !important;
}
